$(function(){function t(t){var n=t.options.map(function(t){var n=t.values.map(function(t){return'<option value="'+t+'">'+t+"</option>"});return'<div class="shopify-select">                <select class="select" name="'+t.name+'">'+n+'</select>                <svg class="shopify-select-icon" viewBox="0 0 24 24"><path d="M21 5.176l-9.086 9.353L3 5.176.686 7.647 12 19.382 23.314 7.647 21 5.176z"></path></svg>              </div>'});return n}function n(){$(".cart .btn--close").on("click",m),$(document).on("click",function(t){$(t.target).closest(".cart").length||$(t.target).closest(".js-prevent-cart-listener").length||m()});var t=27;$(document).on("keydown",function(n){n.which===t&&(w&&($(w).focus(),w=""),m())}),$(".btn--cart-checkout").on("click",function(){window.open(x.checkoutUrl,"_self")}),$(".buy-button").on("click",o),$(".cart").on("click",".quantity-increment",function(){var t=$(this).data("variant-id");s(t)}),$(".cart").on("click",".quantity-decrement",function(){var t=$(this).data("variant-id");l(t)}),$(".cart").on("keyup",".cart-item__quantity",f(d,250)),$(".btn--cart-tab").click(function(){j(this),v()})}function e(t){$(".variant-selectors").on("change","select",function(n){var e=$(n.target),o=e.attr("name"),u=e.val();t.options.filter(function(t){return t.name===o})[0].selected=u;var l=t.selectedVariant,s=t.selectedVariantImage;a(t.title),i(s),r(l),c(l)})}function a(t){$("#buy-button-1 .product-title").text(t)}function i(t){var n=t?t.src:ShopifyBuy.NO_IMAGE_URI;$("#buy-button-1 .variant-image").attr("src",n)}function r(t){$("#buy-button-1 .variant-title").text(t.title)}function c(t){$("#buy-button-1 .variant-price").text("$"+t.price)}function o(t){t.preventDefault();var n,e=q.selectedVariant.id,a=p(e);n=a?a.quantity+1:1,h(q.selectedVariant,n),j(t.target),$("#checkout").focus()}function u(t,n){var e,a=q.variants.filter(function(t){return t.id===n})[0],i=p(a.id);i&&(e=t(i.quantity),g(i,e))}function l(t){u(function(t){return t-1},t)}function s(t){u(function(t){return t+1},t)}function d(t){var n=parseInt($(this).closest(".cart-item").attr("data-variant-id"),10),e=q.variants.filter(function(t){return t.id===n})[0],a=p(e.id),i=t.target.value;a&&g(a,i)}function f(t,n,e){var a;return function(){var i=this,r=arguments,c=function(){a=null,e||t.apply(i,r)},o=e&&!a;clearTimeout(a),a=setTimeout(c,n),o&&t.apply(i,r)}}function v(){$(".cart").addClass("js-active")}function m(){$(".cart").removeClass("js-active"),$(".overlay").removeClass("js-active")}function p(t){return x.lineItems.filter(function(n){return n.variant_id===t})[0]}function h(t,n){v();var e=p(t.id);e?g(e,n):y(t,n),k()}function g(t,n){var e=t.variant_id,a=x.lineItems.length;x.updateLineItem(t.id,n).then(function(n){var i=$(".cart").find('.cart-item[data-variant-id="'+e+'"]');n.lineItems.length>=a?(i.find(".cart-item__quantity").val(t.quantity),i.find(".cart-item__price").text(C(t.line_price))):i.addClass("js-hidden").bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){i.remove()}),k(),I(),n.lineItems.length<1&&m()}).catch(function(t){console.log("Fail"),console.error(t)})}function y(t,n){v(),x.addVariants({variant:t,quantity:n}).then(function(){var n=x.lineItems.filter(function(n){return n.variant_id===t.id})[0],e=_(n),a=$(".cart-item-container");a.append(e),setTimeout(function(){a.find(".js-hidden").removeClass("js-hidden")},0)}).catch(function(t){console.log("Fail"),console.error(t)}),I(),k()}function _(t){var n=$("#CartItemTemplate").html(),e=$(n),a=t.image.src;return e.attr("data-variant-id",t.variant_id),e.addClass("js-hidden"),e.find(".cart-item__img").css("background-image","url("+a+")"),e.find(".cart-item__title").text(t.title),e.find(".cart-item__variant-title").text(t.variant_title),e.find(".cart-item__price").text(C(t.line_price)),e.find(".cart-item__quantity").attr("value",t.quantity),e.find(".quantity-decrement").attr("data-variant-id",t.variant_id),e.find(".quantity-increment").attr("data-variant-id",t.variant_id),e}function b(){var t=$(".cart-item-container");t.empty();var n=($("#CartItemTemplate").html(),x.lineItems.map(function(t,n){return _(t)}));t.append(n),setTimeout(function(){t.find(".js-hidden").removeClass("js-hidden")},0),I()}function I(){$(".cart .pricing").text(C(x.subtotal))}function C(t,n,e,a,i){n=n||"$",e=e||",",a=a||".",i=i||".";var r=new RegExp("(\\d)(?=(\\d{3})+\\.)","g");return n+parseFloat(t,10).toFixed(2).replace(i,a).replace(r,"$1"+e).toString()}function k(){x.lineItems.length>0?($(".btn--cart-tab .btn__counter").html(x.lineItemCount),$(".btn--cart-tab").addClass("js-active")):($(".btn--cart-tab").removeClass("js-active"),$(".cart").removeClass("js-active"))}function j(t){w=t}var q,x,T,S=ShopifyBuy.buildClient({apiKey:"3e973c5aad16a739769def1f567d0e20",myShopifyDomain:"art-o-rama-gallery",appId:"6"});localStorage.getItem("lastCartId")?S.fetchCart(localStorage.getItem("lastCartId")).then(function(t){x=t,T=x.lineItems.length,b()}):S.createCart().then(function(t){x=t,localStorage.setItem("lastCartId",x.id),T=0});var w;S.fetchProduct("8329441158").then(function(o){q=o;var u=q.selectedVariant,l=q.selectedVariantImage,s=(q.options,t(q));$(".variant-selectors").html(s),a(q.title),i(l),r(u),c(u),e(q),k(),n()})});